<% layout('./layouts/boilerplate') %>

    <div class="row mx-3 align-items-center">
        <div class=" col-md-8 offset-md-2 col-lg-4 offset-lg-4 my-3">
            <h1 class="text-center">Edit Canvas</h1>
            <form action="/painting/<%= painting._id %>?_method=PATCH" novalidate enctype="multipart/form-data"
                class="validation-form" method="POST">
                <div class="mb-3">
                    <label class="form-label" for="title">Title </label>
                    <input type="text" required class="form-control" name="title" autofocus
                        value="<%= painting.title %>" id=" title">
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="image">Image Url </label>
                    <input class="form-control" type="text" name="image" value="<%= painting.image %>" id="
                        image">
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="images">Image Files </label>
                    <input class="form-control" type="file" name="images" multiple id="images">
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label" for="description">Description</label>
                    <textarea class="form-control" required name="description" id="description" cols="30" rows="10">
                        <%= painting.description.trim() %> 
                    </textarea>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class="mb-3">
                    <% painting.images.forEach((img,i)=>{ %>
                        <div class="d-inline-block mx-3 text-center">
                            <img src="<%= img.url %>" class="img-fluid thumbnail" alt="">
                            <div>
                                <label class="form-label" for="image-<%= i %>">Delete</label>
                                <input type="checkbox" name="deleteImage[]" id="image-<%= i %>"
                                    value="<%= img.filename %>">
                            </div>
                        </div>
                        <% }) %>
                </div>
                <div class="d-grid">
                    <button class="btn btn-success">Update</button>
                </div>
            </form>
        </div>
    </div>